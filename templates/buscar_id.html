<style>
  :root {
    --primary-color: #7E57C2;     /* Lilás principal */
    --secondary-color: #4527A0;   /* Lilás mais escuro para gradientes */
    --background-color: #FFFFFF;  /* Branco para fundos */
    --text-color: #2C1810;       /* Marrom escuro para textos */
    --link-color: #9575CD;       /* Lilás mais claro para links */
}
</style>

{% extends '_base.html' %} {% block content %}
<div
  class="min-h-screen"
  style="background: linear-gradient(to bottom, var(--background-color), {{ site_config.background_color|default:'#F3F4F6' }})"
>
  <!-- Hero Section -->
  <div
    class="relative overflow-hidden"
    style="background: linear-gradient(to right, var(--primary-color), var(--secondary-color))"
  >
    <!-- Decorative elements -->
    <div class="absolute inset-0">
      <div
        class="absolute inset-0 bg-[url('data:image/svg+xml,...')] opacity-10"
      ></div>
      <div
        class="absolute inset-0 bg-gradient-to-b from-transparent to-black/5"
      ></div>
    </div>

    <div class="relative">
      <div class="max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8 text-center">
        <h1
          class="text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight"
        >
          Espelho de Ponto Digital
        </h1>
        <p class="text-xl max-w-2xl mx-auto" style="color: rgba(255, 255, 255, 0.9);">
          Acesse seu espelho de ponto de forma rápida e segura
        </p>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8">
    <div class="max-w-md mx-auto">
      <!-- Search Card -->
      <div
        class="bg-white rounded-2xl shadow-xl p-8 backdrop-blur-xl backdrop-filter mb-8 border border-gray-100 transform transition-all duration-200"
        style="background-color: var(--background-color)"
      >
        <form
          method="post"
          action="{% url 'buscar_ponto_form' %}"
          class="space-y-6"
        >
          {% csrf_token %}
          <div class="space-y-2">
            <label
              for="matricula"
              class="block text-sm font-medium"
              style="color: var(--text-color)"
            >
              Matrícula
            </label>
            <input
              type="text"
              name="matricula"
              id="matricula"
              required
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:border-transparent"
              style="background-color: white; color: var(--text-color)"
              placeholder="Digite sua matrícula"
            />
          </div>

          <div class="space-y-2">
            <label
              for="cpf"
              class="block text-sm font-medium"
              style="color: var(--text-color)"
            >
              CPF
            </label>
            <input
              type="text"
              name="cpf"
              id="cpf"
              required
              maxlength="14"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:border-transparent"
              style="background-color: white; color: var(--text-color)"
              placeholder="000.000.000-00"
            />
          </div>

          <button
            type="submit"
            class="w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-xl text-white hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-200"
            style="background-color: var(--primary-color)"
          >
            <svg
              class="w-5 h-5 mr-2"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 7l-6 6m0 0l6 6m-6-6h12"
              />
            </svg>
            Buscar Espelho de Ponto
          </button>
        </form>
      </div>

      <!-- Instructions Card -->
      <div
        class="bg-white rounded-2xl shadow-lg p-8 mb-8 border border-gray-100"
        style="background-color: var(--background-color)"
      >
        <h3
          class="text-lg font-semibold mb-6 flex items-center"
          style="color: var(--text-color)"
        >
          <svg
            class="w-5 h-5 mr-2"
            style="color: var(--primary-color)"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          Como consultar?
        </h3>
        <ul class="space-y-6">
          <li class="flex items-start">
            <span
              class="flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-full text-sm font-semibold mr-4"
              style="background-color: var(--primary-color); opacity: 0.1; color: var(--primary-color)"
            >
              1
            </span>
            <p style="color: var(--text-color)" class="pt-1">
              Digite sua matrícula no primeiro campo
            </p>
          </li>
          <li class="flex items-start">
            <span
              class="flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-full text-sm font-semibold mr-4"
              style="background-color: var(--primary-color); opacity: 0.1; color: var(--primary-color)"
            >
              2
            </span>
            <p style="color: var(--text-color)" class="pt-1">
              Informe seu CPF para validação
            </p>
          </li>
          <li class="flex items-start">
            <span
              class="flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-full text-sm font-semibold mr-4"
              style="background-color: var(--primary-color); opacity: 0.1; color: var(--primary-color)"
            >
              3
            </span>
            <p style="color: var(--text-color)" class="pt-1">
              Clique em "Buscar Espelho de Ponto"
            </p>
          </li>
        </ul>
      </div>

      <!-- Help Section -->
      <div class="text-center pb-8">
        <p style="color: var(--text-color)">
          Precisa de ajuda?
          <a
            href="#"
            style="color: var(--link-color)"
            class="font-medium inline-flex items-center group hover:opacity-80"
          >
            Entre em contato com o RH
            <svg
              class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              />
            </svg>
          </a>
        </p>
      </div>
    </div>
  </div>
</div>

<!-- Adicione este script para formatar o CPF automaticamente -->
<script>
  document.getElementById("cpf").addEventListener("input", function (e) {
    let value = e.target.value.replace(/\D/g, "");
    if (value.length <= 11) {
      value = value.replace(
        /(\d{3})(\d{3})(\d{3})(\d{2})/,
        function (regex, arg1, arg2, arg3, arg4) {
          if (arg4) return `${arg1}.${arg2}.${arg3}-${arg4}`;
          if (arg3) return `${arg1}.${arg2}.${arg3}`;
          if (arg2) return `${arg1}.${arg2}`;
          return arg1;
        }
      );
      e.target.value = value;
    }
  });
</script>

<!-- Error Message Modal -->
{% if messages %}
<div
  class="fixed inset-0 flex items-center justify-center z-50"
  x-data="{ show: true }"
  x-show="show"
>
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm"></div>
  <div
    class="relative rounded-2xl max-w-md w-full m-4 p-6 shadow-2xl"
    style="background-color: var(--background-color)"
  >
    {% for message in messages %}
    <div class="text-center">
      <div
        class="mx-auto flex items-center justify-center h-12 w-12 rounded-full mb-4"
        style="background-color: var(--primary-color); opacity: 0.1"
      >
        <svg
          class="h-6 w-6"
          style="color: var(--primary-color)"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
          />
        </svg>
      </div>
      <h3 class="text-lg font-medium mb-2" style="color: var(--text-color)">
        Erro na Busca
      </h3>
      <p style="color: var(--text-color); opacity: 0.8">{{ message }}</p>
    </div>
    {% endfor %}
    <div class="mt-5">
      <button
        @click="show = false"
        class="w-full inline-flex justify-center rounded-xl border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 sm:text-sm transition-colors duration-200"
        style="background-color: var(--primary-color)"
      >
        Fechar
      </button>
    </div>
  </div>
</div>
{% endif %} {% endblock %}
