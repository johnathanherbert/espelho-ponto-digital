[phases.setup]
nixPkgs = ['python312', 'postgresql', 'nodejs_18', 'npm']

[phases.install]
cmds = [
    "python -m pip install -r requirements.txt",
    "npm install"
]

[phases.build]
cmds = [
    "npm run build",
    "python manage.py collectstatic --noinput"
]

[start]
cmd = "gunicorn core.wsgi:application --bind 0.0.0.0:$PORT"